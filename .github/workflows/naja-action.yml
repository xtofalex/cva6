name: naja-action
on: [push, pull_request]

jobs:
  test-action:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Run naja-action
        uses: najaeda/naja-action@660320e60226ac1de28d0236a58aacf83d70f0dd        
        with:
          mode: "direct"
          design_config: "yosys/yosys.ys"
        env:
          CVA6_REPO_DIR: "<path_to_cva6_repo>"
          HPDCACHE_DIR: "${CVA6_REPO_DIR}/core/cache_subsystem/hpdcache"
          TARGET_CFG: "cv64a6_imafdc_sv39"
